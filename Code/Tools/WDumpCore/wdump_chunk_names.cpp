/*
**  Command & Conquer Renegade(tm)
**  Copyright 2025 Electronic Arts Inc.
**
**  This program is free software: you can redistribute it and/or modify
**  it under the terms of the GNU General Public License as published by
**  the Free Software Foundation, either version 3 of the License, or
**  (at your option) any later version.
**
**  This program is distributed in the hope that it will be useful,
**  but WITHOUT ANY WARRANTY; without even the implied warranty of
**  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
**  GNU General Public License for more details.
**
**  You should have received a copy of the GNU General Public License
**  along with this program.  If not, see <http://www.gnu.org/licenses/>.
*/

#include "wdump_core.h"

#include "w3d_file.h"

namespace wdump
{
namespace
{
struct ChunkName
{
    uint32_t id;
    const char *name;
};

constexpr ChunkName kChunkNames[] = {
    {W3D_CHUNK_MESH, "CHUNK_MESH"},
    {W3D_CHUNK_MESH_HEADER, "W3D_CHUNK_MESH_HEADER"},
    {W3D_CHUNK_VERTICES, "W3D_CHUNK_VERTICES"},
    {W3D_CHUNK_VERTEX_NORMALS, "W3D_CHUNK_VERTEX_NORMALS"},
    {W3D_CHUNK_SURRENDER_NORMALS, "W3D_CHUNK_SURRENDER_NORMALS"},
    {W3D_CHUNK_TEXCOORDS, "W3D_CHUNK_TEXCOORDS"},
    {O_W3D_CHUNK_MATERIALS, "O_W3D_CHUNK_MATERIALS"},
    {O_W3D_CHUNK_TRIANGLES, "O_W3D_CHUNK_TRIANGLES"},
    {O_W3D_CHUNK_QUADRANGLES, "O_W3D_CHUNK_QUADRANGLES"},
    {O_W3D_CHUNK_SURRENDER_TRIANGLES, "O_W3D_CHUNK_SURRENDER_TRIANGLES"},
    {O_W3D_CHUNK_POV_TRIANGLES, "O_W3D_CHUNK_POV_TRIANGLES"},
    {O_W3D_CHUNK_POV_QUADRANGLES, "O_W3D_CHUNK_POV_QUADRANGLES"},
    {W3D_CHUNK_MESH_USER_TEXT, "W3D_CHUNK_MESH_USER_TEXT"},
    {W3D_CHUNK_VERTEX_COLORS, "W3D_CHUNK_VERTEX_COLORS"},
    {W3D_CHUNK_VERTEX_INFLUENCES, "W3D_CHUNK_VERTEX_INFLUENCES"},
    {W3D_CHUNK_DAMAGE, "W3D_CHUNK_DAMAGE"},
    {W3D_CHUNK_DAMAGE_HEADER, "W3D_CHUNK_DAMAGE_HEADER"},
    {W3D_CHUNK_DAMAGE_VERTICES, "W3D_CHUNK_DAMAGE_VERTICES"},
    {W3D_CHUNK_DAMAGE_COLORS, "W3D_CHUNK_DAMAGE_COLORS"},
    {O_W3D_CHUNK_MATERIALS2, "O_W3D_CHUNK_MATERIALS2"},
    {W3D_CHUNK_MATERIALS3, "W3D_CHUNK_MATERIALS3"},
    {W3D_CHUNK_MATERIAL3, "W3D_CHUNK_MATERIAL3"},
    {W3D_CHUNK_MATERIAL3_NAME, "W3D_CHUNK_MATERIAL3_NAME"},
    {W3D_CHUNK_MATERIAL3_INFO, "W3D_CHUNK_MATERIAL3_INFO"},
    {W3D_CHUNK_MATERIAL3_DC_MAP, "W3D_CHUNK_MATERIAL3_DC_MAP"},
    {W3D_CHUNK_MATERIAL3_DI_MAP, "W3D_CHUNK_MATERIAL3_DI_MAP"},
    {W3D_CHUNK_MATERIAL3_SC_MAP, "W3D_CHUNK_MATERIAL3_SC_MAP"},
    {W3D_CHUNK_MATERIAL3_SI_MAP, "W3D_CHUNK_MATERIAL3_SI_MAP"},
    {W3D_CHUNK_MAP3_FILENAME, "W3D_CHUNK_MAP3_FILENAME"},
    {W3D_CHUNK_MAP3_INFO, "W3D_CHUNK_MAP3_INFO"},
    {W3D_CHUNK_MESH_HEADER3, "W3D_CHUNK_MESH_HEADER3"},
    {W3D_CHUNK_TRIANGLES, "W3D_CHUNK_TRIANGLES"},
    {W3D_CHUNK_PER_TRI_MATERIALS, "W3D_CHUNK_PER_TRI_MATERIALS"},
    {W3D_CHUNK_VERTEX_SHADE_INDICES, "W3D_CHUNK_VERTEX_SHADE_INDICES"},
    {W3D_CHUNK_MATERIAL_INFO, "W3D_CHUNK_MATERIAL_INFO"},
    {W3D_CHUNK_SHADERS, "W3D_CHUNK_SHADERS"},
    {W3D_CHUNK_PS2_SHADERS, "W3D_CHUNK_PS2_SHADERS"},
    {W3D_CHUNK_VERTEX_MATERIALS, "W3D_CHUNK_VERTEX_MATERIALS"},
    {W3D_CHUNK_VERTEX_MATERIAL, "W3D_CHUNK_VERTEX_MATERIAL"},
    {W3D_CHUNK_VERTEX_MATERIAL_NAME, "W3D_CHUNK_VERTEX_MATERIAL_NAME"},
    {W3D_CHUNK_VERTEX_MATERIAL_INFO, "W3D_CHUNK_VERTEX_MATERIAL_INFO"},
    {W3D_CHUNK_VERTEX_MAPPER_ARGS0, "W3D_CHUNK_VERTEX_MAPPER_ARGS0"},
    {W3D_CHUNK_VERTEX_MAPPER_ARGS1, "W3D_CHUNK_VERTEX_MAPPER_ARGS1"},
    {W3D_CHUNK_TEXTURES, "W3D_CHUNK_TEXTURES"},
    {W3D_CHUNK_TEXTURE, "W3D_CHUNK_TEXTURE"},
    {W3D_CHUNK_TEXTURE_NAME, "W3D_CHUNK_TEXTURE_NAME"},
    {W3D_CHUNK_TEXTURE_INFO, "W3D_CHUNK_TEXTURE_INFO"},
    {W3D_CHUNK_MATERIAL_PASS, "W3D_CHUNK_MATERIAL_PASS"},
    {W3D_CHUNK_VERTEX_MATERIAL_IDS, "W3D_CHUNK_VERTEX_MATERIAL_IDS"},
    {W3D_CHUNK_SHADER_IDS, "W3D_CHUNK_SHADER_IDS"},
    {W3D_CHUNK_DCG, "W3D_CHUNK_DCG"},
    {W3D_CHUNK_DIG, "W3D_CHUNK_DIG"},
    {W3D_CHUNK_SCG, "W3D_CHUNK_SCG"},
    {W3D_CHUNK_TEXTURE_STAGE, "W3D_CHUNK_TEXTURE_STAGE"},
    {W3D_CHUNK_TEXTURE_IDS, "W3D_CHUNK_TEXTURE_IDS"},
    {W3D_CHUNK_STAGE_TEXCOORDS, "W3D_CHUNK_STAGE_TEXCOORDS"},
    {W3D_CHUNK_PER_FACE_TEXCOORD_IDS, "W3D_CHUNK_PER_FACE_TEXCOORD_IDS"},
    {W3D_CHUNK_AABTREE, "W3D_CHUNK_AABTREE"},
    {W3D_CHUNK_AABTREE_HEADER, "W3D_CHUNK_AABTREE_HEADER"},
    {W3D_CHUNK_AABTREE_POLYINDICES, "W3D_CHUNK_AABTREE_POLYINDICES"},
    {W3D_CHUNK_AABTREE_NODES, "W3D_CHUNK_AABTREE_NODES"},
    {W3D_CHUNK_HIERARCHY, "W3D_CHUNK_HIERARCHY"},
    {W3D_CHUNK_HIERARCHY_HEADER, "W3D_CHUNK_HIERARCHY_HEADER"},
    {W3D_CHUNK_PIVOTS, "W3D_CHUNK_PIVOTS"},
    {W3D_CHUNK_PIVOT_FIXUPS, "W3D_CHUNK_PIVOT_FIXUPS"},
    {W3D_CHUNK_ANIMATION, "W3D_CHUNK_ANIMATION"},
    {W3D_CHUNK_ANIMATION_HEADER, "W3D_CHUNK_ANIMATION_HEADER"},
    {W3D_CHUNK_ANIMATION_CHANNEL, "W3D_CHUNK_ANIMATION_CHANNEL"},
    {W3D_CHUNK_BIT_CHANNEL, "W3D_CHUNK_BIT_CHANNEL"},
    {W3D_CHUNK_HMODEL, "W3D_CHUNK_HMODEL"},
    {W3D_CHUNK_HMODEL_HEADER, "W3D_CHUNK_HMODEL_HEADER"},
    {W3D_CHUNK_NODE, "W3D_CHUNK_NODE"},
    {W3D_CHUNK_COLLISION_NODE, "W3D_CHUNK_COLLISION_NODE"},
    {W3D_CHUNK_SKIN_NODE, "W3D_CHUNK_SKIN_NODE"},
    {OBSOLETE_W3D_CHUNK_HMODEL_AUX_DATA, "W3D_CHUNK_HMODEL_AUX_DATA"},
    {OBSOLETE_W3D_CHUNK_SHADOW_NODE, "OBSOLETE_W3D_CHUNK_SHADOW_NODE"},
    {W3D_CHUNK_LODMODEL, "W3D_CHUNK_LODMODEL"},
    {W3D_CHUNK_LODMODEL_HEADER, "W3D_CHUNK_LODMODEL_HEADER"},
    {W3D_CHUNK_LOD, "W3D_CHUNK_LOD"},
    {W3D_CHUNK_COLLECTION, "W3D_CHUNK_COLLECTION"},
    {W3D_CHUNK_COLLECTION_HEADER, "W3D_CHUNK_COLLECTION_HEADER"},
    {W3D_CHUNK_COLLECTION_OBJ_NAME, "W3D_CHUNK_COLLECTION_OBJ_NAME"},
    {W3D_CHUNK_PLACEHOLDER, "W3D_CHUNK_PLACEHOLDER"},
    {W3D_CHUNK_TRANSFORM_NODE, "W3D_CHUNK_TRANSFORM_NODE"},
    {W3D_CHUNK_POINTS, "W3D_CHUNK_POINTS"},
    {W3D_CHUNK_LIGHT, "W3D_CHUNK_LIGHT"},
    {W3D_CHUNK_LIGHT_INFO, "W3D_CHUNK_LIGHT_INFO"},
    {W3D_CHUNK_SPOT_LIGHT_INFO, "W3D_CHUNK_SPOT_LIGHT_INFO"},
    {W3D_CHUNK_NEAR_ATTENUATION, "W3D_CHUNK_NEAR_ATTENUATION"},
    {W3D_CHUNK_FAR_ATTENUATION, "W3D_CHUNK_FAR_ATTENUATION"},
    {W3D_CHUNK_EMITTER, "W3D_CHUNK_EMITTER"},
    {W3D_CHUNK_EMITTER_HEADER, "W3D_CHUNK_EMITTER_HEADER"},
    {W3D_CHUNK_EMITTER_USER_DATA, "W3D_CHUNK_EMITTER_USER_DATA"},
    {W3D_CHUNK_EMITTER_INFO, "W3D_CHUNK_EMITTER_INFO"},
    {W3D_CHUNK_EMITTER_INFOV2, "W3D_CHUNK_EMITTER_INFOV2"},
    {W3D_CHUNK_EMITTER_PROPS, "W3D_CHUNK_EMITTER_PROPS"},
    {OBSOLETE_W3D_CHUNK_EMITTER_COLOR_KEYFRAME, "OBSOLETE_W3D_CHUNK_EMITTER_COLOR_KEYFRAME"},
    {OBSOLETE_W3D_CHUNK_EMITTER_OPACITY_KEYFRAME, "OBSOLETE_W3D_CHUNK_EMITTER_OPACITY_KEYFRAME"},
    {OBSOLETE_W3D_CHUNK_EMITTER_SIZE_KEYFRAME, "OBSOLETE_W3D_CHUNK_EMITTER_SIZE_KEYFRAME"},
    {W3D_CHUNK_EMITTER_ROTATION_KEYFRAMES, "W3D_CHUNK_EMITTER_ROTATION_KEYFRAMES"},
    {W3D_CHUNK_EMITTER_FRAME_KEYFRAMES, "W3D_CHUNK_EMITTER_FRAME_KEYFRAMES"},
    {W3D_CHUNK_EMITTER_BLUR_TIME_KEYFRAMES, "W3D_CHUNK_EMITTER_BLUR_TIME_KEYFRAMES"},
    {W3D_CHUNK_AGGREGATE, "W3D_CHUNK_AGGREGATE"},
    {W3D_CHUNK_AGGREGATE_HEADER, "W3D_CHUNK_AGGREGATE_HEADER"},
    {W3D_CHUNK_AGGREGATE_INFO, "W3D_CHUNK_AGGREGATE_INFO"},
    {W3D_CHUNK_TEXTURE_REPLACER_INFO, "W3D_CHUNK_TEXTURE_REPLACER_INFO"},
    {W3D_CHUNK_AGGREGATE_CLASS_INFO, "W3D_CHUNK_AGGREGATE_CLASS_INFO"},
    {W3D_CHUNK_HLOD, "W3D_CHUNK_HLOD"},
    {W3D_CHUNK_HLOD_HEADER, "W3D_CHUNK_HLOD_HEADER"},
    {W3D_CHUNK_HLOD_LOD_ARRAY, "W3D_CHUNK_HLOD_LOD_ARRAY"},
    {W3D_CHUNK_HLOD_SUB_OBJECT_ARRAY_HEADER, "W3D_CHUNK_HLOD_LOD_ARRAY_HEADER"},
    {W3D_CHUNK_HLOD_SUB_OBJECT, "W3D_CHUNK_HLOD_SUB_OBJECT"},
    {W3D_CHUNK_HLOD_AGGREGATE_ARRAY, "W3D_CHUNK_HLOD_AGGREGATE_ARRAY"},
    {W3D_CHUNK_HLOD_PROXY_ARRAY, "W3D_CHUNK_HLOD_PROXY_ARRAY"},
    {W3D_CHUNK_BOX, "W3D_CHUNK_BOX"},
    {W3D_CHUNK_NULL_OBJECT, "W3D_CHUNK_NULL_OBJECT"},
    {W3D_CHUNK_PRELIT_UNLIT, "W3D_CHUNK_PRELIT_UNLIT"},
    {W3D_CHUNK_PRELIT_VERTEX, "W3D_CHUNK_PRELIT_VERTEX"},
    {W3D_CHUNK_PRELIT_LIGHTMAP_MULTI_PASS, "W3D_CHUNK_PRELIT_LIGHTMAP_MULTI_PASS"},
    {W3D_CHUNK_PRELIT_LIGHTMAP_MULTI_TEXTURE, "W3D_CHUNK_PRELIT_LIGHTMAP_MULTI_TEXTURE"},
    {W3D_CHUNK_LIGHTSCAPE, "W3D_CHUNK_LIGHTSCAPE"},
    {W3D_CHUNK_LIGHTSCAPE_LIGHT, "W3D_CHUNK_LIGHTSCAPE_LIGHT"},
    {W3D_CHUNK_LIGHT_TRANSFORM, "W3D_CHUNK_LIGHT_TRANSFORM"},
    {W3D_CHUNK_DAZZLE, "W3D_CHUNK_DAZZLE"},
    {W3D_CHUNK_DAZZLE_NAME, "W3D_CHUNK_DAZZLE_NAME"},
    {W3D_CHUNK_DAZZLE_TYPENAME, "W3D_CHUNK_DAZZLE_TYPENAME"},
};
} // namespace

const char *chunk_name(uint32_t id)
{
    for (const auto &entry : kChunkNames) {
        if (entry.id == id) {
            return entry.name;
        }
    }
    return nullptr;
}

} // namespace wdump
